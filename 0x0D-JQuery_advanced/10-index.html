<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Task 10</title>
    <style>
      .loading {
        opacity: 0.2;
      }
    </style>
  </head>

  <body></body>
  <script
    src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
    crossorigin="anonymous"
  ></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="application/javascript">
    function addPostRow(data) {
      $("body").append(
        "<p><span>Post created with id " +
          data.id +
          ", title: " +
          data.title +
          ", author: " +
          data.author
      );
    }
    function listPosts() {
      const url = "http://localhost:3000/posts";
      $.get(url, function (data, status, statusText) {
        if (statusText.status === 200) {
          for (let post of data) {
            addPostRow(post);
          }
        }
      }).fail(function () {
        alert("Server Error");
      });
    }
    listPosts();
  </script>
</html>
