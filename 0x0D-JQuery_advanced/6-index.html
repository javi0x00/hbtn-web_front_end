<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Task 6</title>
  </head>

  <body></body>
  <script
    src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
    crossorigin="anonymous"
  ></script>
  <script type="application/javascript">
    function createFamilyTree() {
      $("body").append("<table></table>");
      $("table").append("<thead></thead>, <tbody></tbody>");
      $("thead").append("<tr></tr>");
      $("tr").append("<th></th>, <th></th>");
      $("th:first").append("Firstname");
      $("th:last").append("Lastname");
    }
    createFamilyTree();
    function addNewMember(firstName, lastName, position) {
      if (position === "before") {
        $("tbody").prepend(
          "<tr><td>" +
            firstName +
            "</td>, <td>" +
            lastName +
            "</td>, <td class='x'>(x)</td></tr>"
        );
      } else {
        $("tbody").append(
          "<tr><td>" +
            firstName +
            "</td>, <td>" +
            lastName +
            "</td>, <td class='x'>(x)</td></tr>"
        );
      }
      $(".x")
        .css("background-color", "orange")
        .click(function () {
          $(this).parent("tr").remove();
        });
    }
    function createForm() {
      $("table").before(
        '<input class="fn" type="text"> <input class="ln" type="text"> <select id="where"><option value="before">Before</option><option value="after">After</option></select> <input type="submit">'
      );
      $("input[type='submit']").click(() => {
        addNewMember($(".fn").val(), $(".ln").val(), $("#where").val());
      });
    }
    createForm();
  </script>
</html>
